version: '2'
services:
  web:
    image: robertdebock/docker-rundeck-httpd
    ports:
      - 8080:80
    depends_on:
      - rundeck
    links:
      - rundeck
  rundeck:
    image: robertdebock/docker-rundeck:mysql
    volumes:
      - /var/log/rundeck
      - /var/rundeck
    environment:
      CONTEXT: /rundeck
      HOST: 192.168.99.100
      NAME: RUNDECK
      PORT: 8008
      PROTOCOL: http
      MYSQL_DATABASE: rundeck
      MYSQL_HOST: mysql
      MYSQL_PASSWORD: rundeck
      MYSQL_USER: rundeck
    depends_on:
      - mysql
    links:
      - mysql
  mysql:
    image: mysql
    environment:
      MYSQL_ROOT_PASSWORD: rundeck
      MYSQL_DATABASE: rundeck
      MYSQL_USER: rundeck
      MYSQL_PASSWORD: rundeck
